.\"
.TH set_keys 1  27-Nov-2007  "DRMS MANPAGE" "DRMS Programmer's Manual"
.SH NAME
set_keys \- modify the keyword values of a DRMS record or create a new record with specified keyword values
.SH SYNOPSIS
.nf
.B set_keys \fR[\fB-chmv\fRDRIVER_FLAGS] \fBds=\fR<record_set> [<keyword1>\fB=\fR<value1>]... [<segment1>\fB=\fR<file1>]...
.SH DESCRIPTION
set_keys modifies keyword values and/or inserts generic files into a DRMS record(s).

Example to modify a keyword value:
  set_keys ds=su_arta.TestStoreFile[file=dsds_data.fits][sel=January] note=fred

Example to create a new record and specify keyword values:
  set_keys -c ds=su_arta.TestStoreFile file=data.txt sel=February file_seg=/home/arta/febdata.txt

.SH FLAGS
The flags that control set_keys are:
.PP
.IP \fB-c\fR 5
Create a new record
.br
.IP \fB-h\fR 5
Print usage message and exit
.br
.IP \fB-m\fR 5
Modify the keywords of multiple records. The \fB-m\fR flag should be used with caution. 
A typo could damage many records. Do not use \fB-m\fR unless you are sure the query will
specify ONLY the records you want to modify.
.br
.IP \fB-v\fR 5
Verbose - noisy
.br
.PP 
The \fB-c\fR and \fB-m\fR flags cannot be used simultaneously.
.SH ARGUMENTS
.IP <record_set> 15
A series name followed by an optional record-set specification 
(i.e., <seriesname>[RecordSet_filter]). If no record-set filter is 
specified, set_keys requires the \fB-c\fR flag, and it creates a 
new record. All of the prime keywords and values must be specified
as <keyword>\fB=\fR<value> pairs. 
If a record-set filter IS specified, set_keys requires
the \fB-c\fR flag to be unset. If <record_set> resolves to more than one
record, then the \fB-m\fR flag must be set. set_keys will then clone
the records specified by the record-set filter. For each keyword specified 
in a <keyword>\fB=\fR<value> pair on the command line, set_keys will set
the values for all these clones' keywords to <value>.
.br
.IP <valueN> 15
The new keyword values to be used to create a new or modify an existing record.
.br
.IP <fileN> 15
If modifying a record(s) and <segmentN> is a generic series segment, then first copy
the segment to the cloned record(s)' segment storage, then replace 
the copied file with <fileN>. Otherwise, a cloned record and its progenitor share
the original segment file.
.SH BUGS
At present updates of segment files fail.  Please use only with the \fB-c\fR flag and prime keys
when inserting files into generic type data segments.
.SH "SEE ALSO"
.BR show_keys(1)

